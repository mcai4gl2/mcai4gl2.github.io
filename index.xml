<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Blog of Random things</title><link>https://mcai4gl2.github.io/</link><description>Recent content on Blog of Random things</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 15 Aug 2021 13:06:25 +0800</lastBuildDate><atom:link href="https://mcai4gl2.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>[抄作业] MASA的味噌拌炒豬肉茄子</title><link>https://mcai4gl2.github.io/others/japanese-eggplant/</link><pubDate>Sun, 15 Aug 2021 13:06:25 +0800</pubDate><guid>https://mcai4gl2.github.io/others/japanese-eggplant/</guid><description>Blog of Random things https://mcai4gl2.github.io/others/japanese-eggplant/ -&lt;p>看了MASA的&lt;a href="https://www.youtube.com/watch?v=ucEXNoVQdm0&amp;amp;ab_channel=MASA%E3%81%AE%E6%96%99%E7%90%86ABC">味噌拌炒豬肉茄子定食&lt;/a>，今天照着做了一个：&lt;/p>
&lt;p>&lt;img src="https://mcai4gl2.github.io/foods/eggplant.jpg" alt="eggplant">&lt;/p>
&lt;p>没买红椒，所以就略过了，少了一个颜色，但是加了红葱头。加了豆腐干，上周剩的，不要浪费。&lt;/p>
&lt;p>几个可以提高的地方：&lt;/p>
&lt;ul>
&lt;li>我的料比较多，所以汁调少了，整个菜看着有点干&lt;/li>
&lt;li>加了老抽，颜色有点深，可以不放&lt;/li>
&lt;li>买的切好的肉，有点厚，不是很入味&lt;/li>
&lt;/ul>
&lt;p>总体还是挺好吃的！MASA的菜谱还是很推荐的。&lt;/p>
- https://mcai4gl2.github.io/others/japanese-eggplant/ -</description></item><item><title>How fast can I read?</title><link>https://mcai4gl2.github.io/softwares/disk-read/</link><pubDate>Thu, 22 Jul 2021 15:04:15 +0800</pubDate><guid>https://mcai4gl2.github.io/softwares/disk-read/</guid><description>Blog of Random things https://mcai4gl2.github.io/softwares/disk-read/ -&lt;p>Computer storage has changed so much over last few decades, in both size and speed terms. We see a lot of amazing performance test results for NVMe drives nowadays. We could copy files much faster from one place to another. But what does it mean for software developers? How fast we shall expect our code to read? The following is some test results I have done in Java.&lt;/p>
&lt;p>The data file I am trying to read is the &lt;a href="https://www.gdeltproject.org/data.html#rawdatafiles">GDELT 1.0 Event database&lt;/a>. The file name is: GDELT.MASTERREDUCEDV2.1979-2013.zip, which is 1.01 GB in zip format and 6.12 GB when uncompressed. The reason I picked this file is because it is real data and at the same time big enough.&lt;/p>
&lt;h3 id="old-results">Old Results&lt;/h3>
&lt;p>I firstly ran the test with my old desktop in Feb, which has Intel i5 6400 CPU and a SanDisk SSD Plus 1T drive. The drive is using SATA 3. The code is quite simple:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-java" data-lang="java">&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">LargeFileReadingTest&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">main&lt;/span>&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#66d9ef">final&lt;/span> String&lt;span style="color:#f92672">[]&lt;/span> args&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#66d9ef">throws&lt;/span> Exception &lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#66d9ef">long&lt;/span> start &lt;span style="color:#f92672">=&lt;/span> System&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">currentTimeMillis&lt;/span>&lt;span style="color:#f92672">();&lt;/span>
&lt;span style="color:#66d9ef">int&lt;/span> lineCount &lt;span style="color:#f92672">=&lt;/span> 0&lt;span style="color:#f92672">;&lt;/span>
ZipFile zipFile &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> ZipFile&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#e6db74">&amp;#34;C:\\Codes\\temp\\io\\GDELT.MASTERREDUCEDV2.1979-2013.zip&amp;#34;&lt;/span>&lt;span style="color:#f92672">);&lt;/span>
&lt;span style="color:#66d9ef">try&lt;/span> &lt;span style="color:#f92672">(&lt;/span>BufferedReader reader &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> BufferedReader&lt;span style="color:#f92672">(&lt;/span>
&lt;span style="color:#66d9ef">new&lt;/span> InputStreamReader&lt;span style="color:#f92672">(&lt;/span>zipFile&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">getInputStream&lt;/span>&lt;span style="color:#f92672">(&lt;/span>zipFile&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">entries&lt;/span>&lt;span style="color:#f92672">().&lt;/span>&lt;span style="color:#a6e22e">nextElement&lt;/span>&lt;span style="color:#f92672">()))))&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#66d9ef">while&lt;/span> &lt;span style="color:#f92672">(&lt;/span>reader&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">readLine&lt;/span>&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#66d9ef">null&lt;/span>&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#f92672">{&lt;/span>
lineCount&lt;span style="color:#f92672">++;&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#66d9ef">long&lt;/span> duration &lt;span style="color:#f92672">=&lt;/span> System&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">currentTimeMillis&lt;/span>&lt;span style="color:#f92672">()&lt;/span> &lt;span style="color:#f92672">-&lt;/span> start&lt;span style="color:#f92672">;&lt;/span>
&lt;span style="color:#75715e">// Expected to be: 87298047
&lt;/span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">assert&lt;/span> lineCount &lt;span style="color:#f92672">==&lt;/span> 87298047&lt;span style="color:#f92672">;&lt;/span>
System&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">out&lt;/span>&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">println&lt;/span>&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Duration &amp;#34;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> duration&lt;span style="color:#f92672">);&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>When I read the file from zip, it takes 32.326 secs to finish. When I read unzipped file using a BufferedReader with default buffer size (which is 8192), it takes 24.473 secs. When I increase the buffer size to 4096 * 512, it takes 28.618 secs. If I reduce the buffer size to 1024, it takes 22.136 secs. Reading unzipped file directly is about 260 MB/s given the file size, while SATA 3 has a read speed up to 545 MB/s based on &lt;a href="https://shop.westerndigital.com/en-ap/products/internal-drives/sandisk-ssd-plus-sata-iii-ssd#SDSSDA-120G-G27">data sheet from SanDisk&lt;/a>. These test results are based on one off runs, which may not that accurate. But since I already &lt;a href="https://mcai4gl2.github.io/computers/old-machine">pulled the desktop apart&lt;/a>, I cannot really rerun the tests unfortunately. I was hoping to get faster read by reading the zipped file but I suspect it didn&amp;rsquo;t work because my CPU (i5 6400) is not that fast.&lt;/p>
&lt;h3 id="testing-with-nvme">Testing with NVMe&lt;/h3>
&lt;p>Now that I have new machines I can rerun the tests. I have done three more tests, one with a Lenovo M920q with Intel i7-9700T and Samsung 970 EVO NVMe, another with a NUC11 with Intel i7-1165G7 and Samsung SSD 970 EVO Plus NVMe, and lastly with the same NUC but a different drive, which is WD Black SN750 NVMe. This time I tried to be more accurate. For each test, I run 10 times, instead of just once. The tests are done on Windows 10 version 10.0.19042 and Java version is 14.0.2.&lt;/p>
&lt;p>The testing result is as follows. All times are in milliseconds:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">&lt;/th>
&lt;th style="text-align:left">Reading Zip&lt;/th>
&lt;th style="text-align:left">DefaultBufferSize&lt;/th>
&lt;th style="text-align:left">1024BufferSize&lt;/th>
&lt;th style="text-align:left">4096Times512BufferSize&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">M920&lt;/td>
&lt;td style="text-align:left">24894.5 ± 351.7&lt;/td>
&lt;td style="text-align:left">12325.9 ± 460.6&lt;/td>
&lt;td style="text-align:left">15345.6 ± 537.0&lt;/td>
&lt;td style="text-align:left">14294.3 ± 148.5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NUC with Samsung disk&lt;/td>
&lt;td style="text-align:left">18861.6 ± 449.1&lt;/td>
&lt;td style="text-align:left">8928.9 ± 256.1&lt;/td>
&lt;td style="text-align:left">10414.3 ± 373.8&lt;/td>
&lt;td style="text-align:left">10569.4 ± 125.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NUC with WD Black&lt;/td>
&lt;td style="text-align:left">18878.2 ± 311.3&lt;/td>
&lt;td style="text-align:left">8666.2 ± 267.3&lt;/td>
&lt;td style="text-align:left">10289.6 ± 401.5&lt;/td>
&lt;td style="text-align:left">10206.0 ± 189.9&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="reading-zip">Reading Zip&lt;/h4>
&lt;p>Looking at &lt;code>Reading Zip&lt;/code> speed, both M920q and NUC11 are slower than &lt;code>DefaultBufferSize&lt;/code> case, where unzipped file is read. The faster read with &lt;code>DefaultBufferSize&lt;/code> suggests that the bottleneck when &lt;code>Reading Zip&lt;/code> is on CPU rather than disk IO. Since the code is single threaded, the performance differences are linked to the single core max turbo frequency:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">&lt;/th>
&lt;th style="text-align:left">CPU&lt;/th>
&lt;th style="text-align:left">Max Turbo Frequency&lt;/th>
&lt;th style="text-align:left">Reading Zip Performance&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Old Desktop&lt;/td>
&lt;td style="text-align:left">i5 6400&lt;/td>
&lt;td style="text-align:left">&lt;a href="https://www.intel.com/content/www/us/en/products/sku/88185/intel-core-i56400-processor-6m-cache-up-to-3-30-ghz/specifications.html">3.30 GHz&lt;/a>&lt;/td>
&lt;td style="text-align:left">32326&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">M920&lt;/td>
&lt;td style="text-align:left">i7 9700T&lt;/td>
&lt;td style="text-align:left">&lt;a href="https://www.intel.com/content/www/us/en/products/sku/191048/intel-core-i79700t-processor-12m-cache-up-to-4-30-ghz/specifications.html">4.30 GHz&lt;/a>&lt;/td>
&lt;td style="text-align:left">24894.5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NUC&lt;/td>
&lt;td style="text-align:left">i7 1165G7&lt;/td>
&lt;td style="text-align:left">&lt;a href="https://www.intel.com/content/www/us/en/products/sku/208662/intel-core-i71165g7-processor-12m-cache-up-to-4-70-ghz/specifications.html">4.70 GHz&lt;/a>&lt;/td>
&lt;td style="text-align:left">18869.9&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Trying to fit these 3 data points linearly:&lt;/p>
&lt;p>&lt;img src="https://mcai4gl2.github.io/disk-read/zip_speed.png" alt="zip">&lt;/p>
&lt;p>Using this simple fitted model, naively, to achieve the same speed as &lt;code>DefaultBufferSize&lt;/code> on M920, I would need a CPU with max turbo speed of 5.52 GHz. For NUC, I would need a CPU with max turbo speed of 5.90 GHz. I am not experienced in overclocking and not sure if they are practical or not. But it feels like trading CPU for disk IO on local disk setup doesn&amp;rsquo;t make much sense.&lt;/p>
&lt;h4 id="defaultbuffersize">DefaultBufferSize&lt;/h4>
&lt;p>Looking at &lt;code>DefaultBufferSize&lt;/code> value by itself, it is interesting to see that NUC is about 28% faster compared to M920 while the drive has comparable sequential read performance:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">SSD&lt;/th>
&lt;th style="text-align:left">Data Sheet Sequential Read&lt;/th>
&lt;th style="text-align:left">Observed Read Performance&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Samsung SSD 970 EVO&lt;/td>
&lt;td style="text-align:left">&lt;a href="https://www.samsung.com/semiconductor/minisite/ssd/product/consumer/970evo/">Up to 3,400 MB/s&lt;/a>&lt;/td>
&lt;td style="text-align:left">519.23 MB/s&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Samsung SSD 970 EVO Plus&lt;/td>
&lt;td style="text-align:left">&lt;a href="https://www.samsung.com/semiconductor/minisite/ssd/product/consumer/970evoplus/">Up to 3,500 MB/s&lt;/a>&lt;/td>
&lt;td style="text-align:left">716.77 MB/s&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">WD Black SN750&lt;/td>
&lt;td style="text-align:left">&lt;a href="https://shop.westerndigital.com/products/internal-drives/wd-black-sn750-nvme-ssd#WDS250G3X0C">up to 3,400 MB/s&lt;/a>&lt;/td>
&lt;td style="text-align:left">738.50 MB/s&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Without any hard evidence, I suspect M920 is slower because I use it as a server and there are 4 VMs it is running. The 970 EVO is the only drive which runs OS and everything else. Something else is slowing down it. This is partially supported by the fact that NUC running 970 EVO Plus is slightly slower than WD Black because the WD drive is the secondary drive while 970 EVO Plus runs the OS.&lt;/p>
&lt;p>Perhaps a more important question to ask is can I read faster? Naively, I tired to run multiple reads in different threads. If the bottleneck is disk in single thread scenario, the read speed per thread shall be slowed down proportional to the number of threads. Testing on M920 with 2 threads, the average time to read with &lt;code>DefaultBufferSize&lt;/code> is 13436.2 milliseconds. This gives 952 MB/s. So, it is not the disk which is the bottleneck.&lt;/p>
&lt;p>Then is it the java code (&lt;code>BufferedReader&lt;/code> and &lt;code>InputStreamReader&lt;/code>) which is less optimal? Some Googling leads me to &lt;a href="https://mechanical-sympathy.blogspot.com/2011/12/java-sequential-io-performance.html">Martin&amp;rsquo;s blog&lt;/a>, which is quite interesting. However, I will let my SSD to have some rest and give this a spin in another day.&lt;/p>
- https://mcai4gl2.github.io/softwares/disk-read/ -</description></item><item><title>My Desk Setup July 2021</title><link>https://mcai4gl2.github.io/computers/desk/</link><pubDate>Thu, 22 Jul 2021 08:08:00 +0800</pubDate><guid>https://mcai4gl2.github.io/computers/desk/</guid><description>Blog of Random things https://mcai4gl2.github.io/computers/desk/ -&lt;p>Working from home is becoming a norm due to COVID. Not surprisingly, proper home office setup is becoming trendy. I have watched a lot of videos on Youtube regarding desk setup. It feels like I shall write down my setup as well, for future reference.&lt;/p>
&lt;p>Because I am renting in HongKong in a fully furnished flat, there is very little I can do about the desk without negotiating with my landlord. So, I kept the desk as it is and try to fit everything into it:&lt;/p>
&lt;p>&lt;img src="https://mcai4gl2.github.io/desk.jpg" alt="desk">&lt;/p>
&lt;p>My current setup has three screens:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.samsung.com/us/computing/monitors/led/samsung-27-curved-led-monitor-ls27d590cs-za/">27inch Sumsung HD monitor&lt;/a> I bought in 2016. It is used as my main monitor&lt;/li>
&lt;li>&lt;a href="https://www.dell.com/hr/business/p/dell-u2518d-monitor/pd">Dell 2518D&lt;/a> I bought in 2019 paid by my employer for COVID home office setup. It is set to vertical on the right&lt;/li>
&lt;li>&lt;a href="https://www.asus.com/us/Displays-Desktops/Monitors/ZenScreen/ZenScreen-MB16AC/">ASUS Zenscreen MB16AC&lt;/a> I bought in 2018 when I needed to do some coding on the run&lt;/li>
&lt;/ul>
&lt;p>The three monitors are plugged into Intel NUC11 on the left via HDMI, Mini DisplayPort and USB Type-C respectively. The main monitor also connects to a hdmi hub to allow me to use it for PS4 and MyTV Super.&lt;/p>
&lt;p>I have two keyboards connected. The one below is an &lt;a href="https://ergodox-ez.com/">Ergodox EZ&lt;/a> split keyboard with brown switch. The one on the top is a &lt;a href="https://www.amazon.com/Logitech-K600-TV-Keyboard-Integrated/dp/B07C6LXYHL/ref=sr_1_1">Logitech K600&lt;/a>. the former is wired and the later is connected via bluetooth. I normally use the Ergodox keyboard but when I connect a second computer (Raspberry Pi or Jetson Nano) to my main monitor, I use the K600 so I don&amp;rsquo;t need to unplug/replug the cables. That is where K600&amp;rsquo;s touchpad helps to reduce the need for an extra mouse. I also use K600 for a little bit of gaming when function keys are required. As my custom layout for Ergodox EZ doesn&amp;rsquo;t have them mapped.&lt;/p>
&lt;p>For mouse, I have a &lt;a href="https://www.amazon.com/Logitech-Vertical-Wireless-Mouse-Rechargeable/dp/B07FNJB8TT/ref=sr_1_1">Logitech MX vertical&lt;/a> and an &lt;a href="https://www.apple.com/hk/shop/product/MJ2R2ZA/A/magic-trackpad-2-silver">Apple Magic Trackpad&lt;/a>. I always enjoyed Mac&amp;rsquo;s trackpad when using my macbook. It is so good to find out that I could use it for Windows with &lt;a href="https://github.com/imbushuo/mac-precision-touchpad">this open source driver&lt;/a>. It doesn&amp;rsquo;t support bluetooth, so one more cable is required, but that is fine for me.&lt;/p>
&lt;p>I have &lt;a href="https://www.amazon.com/Logitech-Webcam-Built-Stereo-Microphones/dp/B01DPNPJ72">Logitech C925&lt;/a> for Zoom and Wechat video. Next to the webcam is a screen bar for lighting. I don&amp;rsquo;t use it that much though. I have an old Creative D200 bluetooth speaker behind the screen which is also connected to the main monitor via cables. This allows my PS4 and MyTV super to output audio as well. When I listen to serious music, like classic music, instead of D200, I use the &lt;a href="https://en.creative.com/p/sound-blaster/sound-blaster-e5">Creative Sound Blaster E5&lt;/a> with my headset, which is &lt;a href="https://www.denon.com/shop/onearheadphone/ahmm400">Denon AH-MM400&lt;/a>.&lt;/p>
&lt;p>I enjoyed this 3 screen setup, which is a lot of spaces but also quite compact at the same time. The main monitor is only HD, which is a little bit lacking in today&amp;rsquo;s eye, especially when the vertical monitor is 2K. Having a NUC really helps to reduce the footprint as well compared to a full PC, without much compromise on performance. Although given how hot HongKong is during the summer, I added two fans on each side of the NUC to help reducing the heat, even though the room is usually with AC turned on. I would like a better speaker for music, but given the space left, it is hard to find a good fit.&lt;/p>
&lt;p>The cable management is quite a bit of mess. But I just ignore it for now. I added a &lt;a href="https://www.amazon.com/dp/B07KHRLSTT">16 port USB hub&lt;/a> recently, which helps to reduce the number of cables to NUC, but I shall really spend more time to clean up the cables.&lt;/p>
&lt;p>I had a lot of these stuff pre-COVID. The main additions are webcam, vertical monitor and the wireless keyboard. In addition, I have also upgraded my wireless router from a cheap TP link one to ASUS AC68U, so I have faster wifi connection. One thing would really be nice is to have a wired connection from the router in living room to here. But that is too much a change I need to talk to landlord if I want to have the cables in the wall, or too much of a hazard if I just put the cable on the floor.&lt;/p>
&lt;p>Along with the wireless router, there is also a Raspberry Pi 4 connected to &lt;a href="https://www.amazon.com/ORICO-Bay-Hard-Drive-Enclosure/dp/B0734CZSXL/ref=sr_1_6">ORICO 2 bay hard drive enclosure&lt;/a> running plex. As HongKong summer is really hot and living room is usually without AC, I had 2 more fans there to provide extra airflow.&lt;/p>
&lt;p>If I had more space, I would prefer to have the second monitor horizontal instead of vertical. This is because when I use the main monitor for something else, the vertical monitor doesn&amp;rsquo;t really work as a primary monitor as a lot of applications just don&amp;rsquo;t scale properly or look weird.&lt;/p>
&lt;p>As a final note, I think I shall stop buying more stuff as I have more than enough. But &amp;hellip;&lt;/p>
- https://mcai4gl2.github.io/computers/desk/ -</description></item><item><title>Meat Day Today!</title><link>https://mcai4gl2.github.io/others/meat/</link><pubDate>Wed, 21 Jul 2021 13:20:46 +0800</pubDate><guid>https://mcai4gl2.github.io/others/meat/</guid><description>Blog of Random things https://mcai4gl2.github.io/others/meat/ -&lt;p>It may sound strange but I always found eating out by myself very weird. It maybe due to the fact that I couldn&amp;rsquo;t order many dishes. Maybe it is just the loneness when seating down by myself. Maybe it is because I don&amp;rsquo;t have a lot of things to watch on my phone. I have always prefer to cook myself at home or do takeaways. I even rarely do delivery until early this year during my two weeks' quarantine in Hongkong. The last time I eat out by myself this year would go back to my birthday in April, when I went to Outback Steakhouse in Olympian city for lunch.&lt;/p>
&lt;p>I planed to go Gyu-Kaku for buffet for sometime. It sounds not that good an idea because Gyu-Kaku has always been busy with long queues. Also, I am kind of on diet for past several weeks and I skip dinner completely. But since I am on holiday this week, I feel I shall really go and take advantage of the discount on work day, haha.&lt;/p>
&lt;p>I did exactly the kind of preparation needed for buffet, skipping dinner last night (as usual) and skipping breakfast this morning as well. So, I went to Gyu-Kaku quite early today at 11:30. Not only because there would be no queue at the time, but also because I am quite hungry at the time.&lt;/p>
&lt;p>The no queue experience is good. I chose the US SRF Angus Wagyu Buffet, which is 338 HKD for early bird on work day (90 mins eating). I got my QR code and then ready to order with my phone. Like any software, the website doesn&amp;rsquo;t open. I was cautious about my phone&amp;rsquo;s reception in the restaurant so I took both my phones with me today, both of which don&amp;rsquo;t work on the ordering website. Waiting for 5 mins, I managed to open the page but when submitting the order, the website gave me error connecting to the server. So, I had to get my order done manually with waiter. With another 5 mins waiting, my first round of food finally arrived:
&lt;img src="https://mcai4gl2.github.io/meat/first.jpg" alt="first">
The food is nice but it is already 20 mins since I set down!&lt;/p>
&lt;p>The website is then up and down from time to time. I got a new QR code from the restaurant. I tired to order second round of food but got different errors. I stopped trying and waited for 5 mins. I did get the food but everything was doubled up since I submitted twice as it failed the first time around (apparently not failed):
&lt;img src="https://mcai4gl2.github.io/meat/second.jpg" alt="second">
I didn&amp;rsquo;t mind doubling it up as I enjoyed the food anyway.&lt;/p>
&lt;p>Finally, after I got my third QR code, the website is fully functional. I got some more meat:
&lt;img src="https://mcai4gl2.github.io/meat/third.jpg" alt="third">
and noodles:
&lt;img src="https://mcai4gl2.github.io/meat/noodles.jpg" alt="noodles">&lt;/p>
&lt;p>Since I am eating by myself, I am very much concentrated on eating. So, 90 mins is more than enough to fill me up. I didn&amp;rsquo;t ask for extension of my 90 mins because their technology doesn&amp;rsquo;t work. In the end, I paid 371.8 with 10% service charge. I would argue the service is not that good given all the problems with their website on a grumpy day. But given all the meat I have today after 2 weeks of diet, I am happy enough to just pay and leave.&lt;/p>
&lt;p>Foods I enjoyed:&lt;/p>
&lt;ul>
&lt;li>The sauce is pretty good to mix with any kind of barbecue&lt;/li>
&lt;li>The beef tongues are good for me. It is not a thing I usually cook. So, very nice to have it when I am eating out&lt;/li>
&lt;li>Enoki mushroom is interesting idea
&lt;img src="https://mcai4gl2.github.io/meat/mushroom.jpg" alt="mushroom">&lt;/li>
&lt;/ul>
&lt;p>Foods I found a little bit strange:&lt;/p>
&lt;ul>
&lt;li>Tripe and intestine are a little bit strange for barbecue&lt;/li>
&lt;li>Oyster is not as good as I hoped&lt;/li>
&lt;/ul>
&lt;p>After I got home, I opened the website in my phone again as I would like to get a screenshot of all the foods I ordered. Unfortunately, instead of my orders, I got the next customer sitting at my table&amp;rsquo;s order instead. Looking at the webpage URL, there is a token which I guess linked to the QR code, so I guess my QR code just had the wrong expiry. I don&amp;rsquo;t particular mind to see other people&amp;rsquo;s ordering, as it gave me several ideas on what I would like to try next time. But from a software developer perspective, a cross client incident is not good. The QR code should have expired as soon as I paid or it shall still show my orders until some house keeping.&lt;/p>
&lt;p>The website&amp;rsquo;s URL is: &lt;a href="https://kabu-byod.azurewebsites.net/order?shopCode=GKK-OC&amp;amp;token=">https://kabu-byod.azurewebsites.net/order?shopCode=GKK-OC&amp;amp;token=&lt;/a>. I wonder how much penetration/security tests have been done. It is not something I am familiar with though. So, I won&amp;rsquo;t randomly generate some tokens and try to hit the link.&lt;/p>
&lt;p>A good lunch with some software failures. My diet continues tomorrow. I am not looking forward to weight myself tomorrow morning though &amp;hellip;&lt;/p>
- https://mcai4gl2.github.io/others/meat/ -</description></item><item><title>Salvaging My Old Desktop</title><link>https://mcai4gl2.github.io/computers/old-machine/</link><pubDate>Wed, 21 Jul 2021 10:09:04 +0800</pubDate><guid>https://mcai4gl2.github.io/computers/old-machine/</guid><description>Blog of Random things https://mcai4gl2.github.io/computers/old-machine/ -&lt;p>I have been using a &lt;a href="https://support.hp.com/gb-en/document/c04835128">HP Pavilion 550-153na&lt;/a> desktop for several years. Bought this computer back in 2015 winter as it was on close down sale from Currys. I went in last day after work and it is on 50% off, so I paid 250 pounds and got it.&lt;/p>
&lt;p>I would admit that I bought it more because of the discount rather than the spec. Only when I got home, I really looked into the spec. It has i5-6400 CPU, 8 GB RAM, 2TB hard drive and a Radeon R5 330 graphic card. I have use it over years for writing code and game playing. Game playing is not very good given the spec, but I have to work with what I have and playing less demanding games.&lt;/p>
&lt;p>I have been looking at how I could upgrade the machine from time to time. Getting a better graphic card would be an obvious starting point. But, I was worried that the power supply wouldn&amp;rsquo;t be good enough and I need to buy another power supply. Power supply is the same reason I didn&amp;rsquo;t upgrade the hard drive to SSD, as there is only one SATA power cable. So, I sticked with HDD for years.&lt;/p>
&lt;p>The machine is far from great but it kind of serves the purpose. So, when I moved from London to HongKong in 2019, I didn&amp;rsquo;t throw it away but carried it over to HongKong. Over the years, the machine has definitely slowed down. I don&amp;rsquo;t know the best way to clean up the hard drive so I installed ubuntu as an alternative operating system.&lt;/p>
&lt;p>This worked quite well until COVID hits. I didn&amp;rsquo;t manage to get Citrix working on ubuntu so I had to switch back to Windows so I can remote login to work. I was getting more and more annoyed by the slow spinning disk. In the end, I unplugged the old HDD and bought a 1TB SanDisk SSD Plus. A SSD and a newly installed operating system definitely gave the old machine a second life. As I slowly getting into classic music, the machine&amp;rsquo;s CD drive was also put into use a lot.&lt;/p>
&lt;p>Coming into 2021 and second year working from home, I desperately wanted a home PC upgrade. I have to admit that there was no particular reason for the upgrade as the old PC still works perfectly fine. Maybe not able to play games was the main pain point. But I knew that was just an excuse. Anyway, I had my eye on the new Intel NUC11 and put in order as soon as it was out.&lt;/p>
&lt;p>Now the old PC finally retired. I don&amp;rsquo;t want to throw it away immediately as the parts could be useful somewhere else. The first usage case would be the 2TB hard drive it has. I put it into an &lt;a href="https://www.amazon.com/ORICO-Bay-Hard-Drive-Enclosure/dp/B0734CZSXL/ref=sr_1_6">ORICO 2 bay hard drive enclosure&lt;/a>. This is now connected to my Raspberry Pi and used for downloading and storage for pictures.&lt;/p>
&lt;p>I took out the CPU and plan to buy a second hand HP 800 G2 mini barebone PC. The SanDisk SSD shall also fit there. I am planning to give this PC to my parents. It shall be powerful enough for their usages for next few years. I also took out the memory from the PC, but I don&amp;rsquo;t know where they could be used for now.&lt;/p>
&lt;p>I thought this was it and I could now throw the rest of the machine until I bought a Jetson Nano. Jetson Nano doesn&amp;rsquo;t come with wifi. As my routers are in the living room and there is no wired connection to the study room, a wifi is must have if I want to use the Jetson Nano. I searched in old PC box and found that it has a removable Intel 3165 wifi card. So I moved the card and the antenna from the old box into Nano. With some googling, I managed to get the driver working as well.&lt;/p>
&lt;p>I have been using Nano for several days and didn&amp;rsquo;t really like the fact that I had to unplug/replug the power cable every time I need to start the machine. So I started reading the option of having a power button. It looks quite simple as long as I have a button. Before ordering one from Amazon, I realised that the old PC has the same thing. So this time, I took out the power button and the light and plug it into Nano. Now I can turn on Nano without touching the power supply.&lt;/p>
&lt;p>I decided to keep the old PC for some more time now given my journey of reusing things. The CPU and hard drive were obvious but the power button was definitely a surprise for me.&lt;/p>
&lt;p>It is also intriguing to see how little differences in my productivity when using the old machine vs new machine. I measure my productivity crudely by looking at codes I write after work. In 2020, I am writing all of these commits in my old PC:
&lt;img src="https://mcai4gl2.github.io/old-machine/2020.PNG" alt="2020">
In 2021, I got the new PC in late Mar:
&lt;img src="https://mcai4gl2.github.io/old-machine/2021.PNG" alt="2021">
In another word, it is very hard to justify the money I spent on buying the new NUC, haha.&lt;/p>
- https://mcai4gl2.github.io/computers/old-machine/ -</description></item><item><title>My Raspberry Pi Setup</title><link>https://mcai4gl2.github.io/computers/pi-custom/</link><pubDate>Sat, 17 Jul 2021 11:11:03 +0800</pubDate><guid>https://mcai4gl2.github.io/computers/pi-custom/</guid><description>Blog of Random things https://mcai4gl2.github.io/computers/pi-custom/ -&lt;p>I have got my first Raspberry Pi 3 several years back and was using it as a cheap desktop for travelling. It was the first SBC board I got. It was lightly used and as I stop travel, it has been put on the side to collect dust for several years.&lt;/p>
&lt;p>Earlier this year, I salvaged two old HDD hard drives when cleaning up old computer stuff. I bought an &lt;a href="https://www.amazon.com/ORICO-Bay-Hard-Drive-Enclosure/dp/B0734CZSXL/ref=sr_1_6">ORICO 2 bay hard drive enclosure&lt;/a> to fit them. I was only planning to copy stuff of interest out and then throw the disks away. But, it soon occur to me that the enclosure can be used as a mini NAS if I can connect it to the network. I took out the pi 3, plugin the enclosure to USB, mount and then samba share the drive. The old drives worked quite well on this setup. I turned the pi to be a mini download machine. Later, installed plex server and host musics on it so I can stream them to my phone in bedroom.&lt;/p>
&lt;p>The setup is quite primitive but has worked for me. There are several things I wanted improve. The first is network speed. Pi 3 only comes with 100Mbps Ethernet. It is fast enough for download but when copying stuff from the drive to my desktop, it definitely needs some patient. Another thing is that the ORICO enclosure could get quite hot, especially for Hongkong summer. I bought an extra fan to help. Last but not least, pi 3 is not that powerful. The first time I import my music library to plex took 2 days for indexing!&lt;/p>
&lt;p>With a working pi running on my network, I started my journey of tinkering with SBC. I quickly run into &lt;a href="https://www.youtube.com/user/geerlingguy">Jeff Geerling&amp;rsquo;s Youtube channel&lt;/a>, which is a lot of fan to watch. I then started to order HATs myself to play. For example, the &lt;a href="https://www.amazon.com/RASPBERRY-PI-RASPBERRYPI-SENSEHAT-Raspberry-Orientation-Temperature/dp/B014HDG74S/ref=sr_1_1">Sense HAT&lt;/a>. I also ordered another pi 4 to replace pi 3 for better ethernet speed.&lt;/p>
&lt;p>When hunting for a better pi case, I have found &lt;a href="https://www.youtube.com/watch?v=9sb_zuHGmY4&amp;amp;t=24s&amp;amp;ab_channel=MichaelKlements">Michael Klements&amp;rsquo;s video&lt;/a> very interesting. Unfortunately, I don&amp;rsquo;t have access to a 3D printer. But, the idea of having an OLED screen is cool for me. I ordered the screen from Amazon and connected it to the pi&amp;rsquo;s GPIO pins. The display works. However, without a case, the day to day usage is kind of messy.&lt;/p>
&lt;p>One more problem for me is that since the display is using I2C and 5V pins, I cannot connect other I2C HATs which also use the same pins. This limitation is really annoying as it seems I need to buy more Pis. After some googling, I found that I could use breadboard to &amp;ldquo;multiplex&amp;rdquo; the pins. So, I ordered breadboards. This makes my desk even more messy.&lt;/p>
&lt;p>Having a messy desktop is kind of okay when I am actively working on pi projects. But when I need to work on something else and put pi aside, it becomes quite annoying to have jumper cables everywhere. I realized that what I need is a case solution which allows me to do all the experiments but at the same time easy to be store when I am not working on the pi.&lt;/p>
&lt;p>Since 3D printing is out of reach, I was a little bit stuck until I seen &lt;a href="https://www.amazon.com/re_Computer-Stackable-Compatible-ODYSSEY-X86J4105-BeagleBone/dp/B08CZRXY2Z/ref=pd_rhf_ee_p_img_8">seeed studio&amp;rsquo;s recompute case&lt;/a>. It is not a compact case for especially for pi, but the extra space is perfect for my usage case.&lt;/p>
&lt;p>So, this is how my pi setup looks like now:&lt;/p>
&lt;p>&lt;img src="https://mcai4gl2.github.io/pi-custom/pi.jpg" alt="Pi">&lt;/p>
&lt;p>The pi4 is on the left. I fit a &lt;a href="https://www.amazon.com/GeeekPi-Raspberry-Low-Profile-Cooling-Heatsink/dp/B07ZV1LLWK/ref=sr_1_3">Low Profile HeatSink&lt;/a> similar to the one in &lt;a href="https://www.youtube.com/watch?v=9sb_zuHGmY4&amp;amp;t=24s&amp;amp;ab_channel=MichaelKlements">Michael Klements&amp;rsquo;s video&lt;/a>. I had to buy the &lt;a href="https://www.amazon.com/dp/B08HZ1YM72?psc=1&amp;amp;ref=ppx_yo2_dt_b_product_details">recompute&amp;rsquo;s stackable frame&lt;/a> to allow the fan to be fit in. Without the extra frame, the fan has to be taken out. I see about 3 to 4 degree drop on CPU temperature when fan is added. I added one extra fan at the bottom of the pi board in the picture to help air to flow out of the case.&lt;/p>
&lt;p>On the right, I have fit in 2 mini breadboards. I have jumper cables to connect the GPIO to the breadboard. The heatsink is kind of in the way, but I just managed to get the cables through. It would be a much cleaner setup if I didn&amp;rsquo;t have the heatsink installed. But I like the heatsink as Hongkong summary can be quite hot.&lt;/p>
&lt;p>I also fitted a OLED screen:
&lt;img src="https://mcai4gl2.github.io/pi-custom/screen.jpg" alt="Screen">
with some taps. Like the screen in &lt;a href="https://www.youtube.com/watch?v=9sb_zuHGmY4&amp;amp;t=24s&amp;amp;ab_channel=MichaelKlements">Michael Klements&amp;rsquo;s video&lt;/a>, it displays IP address, CPU tempature and load, disk and memory usages. The two fans, OLED screens are all connected to the breadboard instead of GPIO. The breadboard allows all three of them sharing the same 5V and ground pins.&lt;/p>
&lt;p>&lt;img src="https://mcai4gl2.github.io/pi-custom/screen_on.jpg" alt="Screen On">&lt;/p>
&lt;p>With the breadboard, now if I want to connect more HATs or sensors, I could connect to the broad instead of GPIO pins directly. The case contains quite a lot of spaces, especially with the extra stackable frame, to allow me to fit extra stuff. When I don&amp;rsquo;t work on the project, I can put the top cover and safely store the pi on the side.&lt;/p>
&lt;p>One problem I had with this setup is that, it is very hard to access the USB type C or mini HDMI port on pi. I had to run cables via the holes in the bottom part of the case to fit:
&lt;img src="https://mcai4gl2.github.io/pi-custom/power.jpg" alt="Power">
This is working for me now. But it is slightly annoying that every time I need to plug/unplug the cable, I need to remove the top cover. I am ordering a mini USB type C extension cable and will see if that could help.&lt;/p>
&lt;p>Overall, I enjoy this setup which gives me the balance between extensibility and tidiness. The case looks quite nice as well!&lt;/p>
- https://mcai4gl2.github.io/computers/pi-custom/ -</description></item></channel></rss>