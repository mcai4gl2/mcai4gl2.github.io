<!doctype html><html><head>
<title>My Raspberry Pi Setup</title>
<meta charset=utf-8>
<meta name=X-UA-Compatible content="IE=edge">
<meta name=google-site-verification content>
<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport>
<meta content="telephone=no" name=format-detection>
<meta name=description content>
<meta name=renderer content="webkit">
<meta name=theme-color content="#ffffff">
<link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css>
<script src=/vendor/js/vue.min.js></script>
<link rel=stylesheet href=https://mcai4gl2.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media=screen>
<link rel=stylesheet href=https://mcai4gl2.github.io/scss/dark-mode.min.c0082f0b082177f6fb3768ff91439a097de49689bd26f4d49f76d94ebb81e02d.css integrity="sha256-wAgvCwghd/b7N2j/kUOaCX3klom9JvTUn3bZTruB4C0=" media=screen>
<script src=/js/loadCSS.js></script>
<script>loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons")</script>
<script src=/js/toc.js></script>
</head>
<body>
<div id=app><div ref=sideContainer class=side-container>
<a class="a-block nav-head false" href=https://mcai4gl2.github.io/>
<div class=nav-title>
Blog of Random things
</div>
</a>
<div class=nav-link-list>
<a class="a-block nav-link-item active" href=/computers>
Hardware
</a>
<a class="a-block nav-link-item false" href=/softwares>
Software
</a>
<a class="a-block nav-link-item false" href=/others>
Others
</a>
</div>
<div class=nav-footer>
Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://amazingrise.net>Rise</a>
<br>
Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a> <br>
<br>
&copy;
2021 Blog of Random things
</div>
</div><div ref=extraContainer class=extra-container>
<div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">
</div>
<div class=pagination>
<a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }">
<i class="material-icons pagination-action-icon">
keyboard_arrow_up
</i>
</a>
<a class=pagination-action v-on:click=toggleDarkMode>
<i class="material-icons pagination-action-icon" v-if=isDarkMode>
brightness_4
</i>
<i class="material-icons pagination-action-icon" v-else=isDarkMode>
brightness_7
</i>
</a>
</div>
</div>
<div class=single-column-drawer-container ref=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
<div class=drawer-content>
<div class=drawer-menu>
<a class="a-block drawer-menu-item active" href=/computers>
Hardware
</a>
<a class="a-block drawer-menu-item false" href=/softwares>
Software
</a>
<a class="a-block drawer-menu-item false" href=/others>
Others
</a>
<div class=toc>
</div>
</div>
</div>
</div>
<transition name=fade>
<div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div>
</transition>
<nav ref=navBar class="navbar sticky-top navbar-light single-column-nav-container">
<div ref=navBackground class=nav-background></div>
<div class="container container-narrow nav-content">
<button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>
menu
</i>
</button>
<a ref=navTitle class=navbar-brand href=https://mcai4gl2.github.io/>
Blog of Random things
</a>
<button type=button class=nav-darkmode-toggle v-on:click=toggleDarkMode>
<i class=material-icons v-if=isDarkMode>
brightness_4
</i>
<i class=material-icons v-else=isDarkMode>
brightness_7
</i>
</button>
</div>
</nav>
<div class=single-column-header-container ref=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
<a href=https://mcai4gl2.github.io/>
<div class=single-column-header-title>Blog of Random things</div>
</a>
</div>
<div id=content>
<div ref=streamContainer class=stream-container>
<div class="post-list-container post-list-container-shadow">
<div class=post>
<div class=post-head-wrapper-text-only>
<div class=post-title>
My Raspberry Pi Setup
<div class=post-meta>
<time itemprop=datePublished>
2021-07-17 11:11
</time>
</div>
</div>
</div>
<div class=post-body-wrapper>
<div class=post-body v-pre>
<p>I have got my first Raspberry Pi 3 several years back and was using it as a cheap desktop for travelling. It was the first SBC board I got. It was lightly used and as I stop travel, it has been put on the side to collect dust for several years.</p>
<p>Earlier this year, I salvaged two old HDD hard drives when cleaning up old computer stuff. I bought an <a href="https://www.amazon.com/ORICO-Bay-Hard-Drive-Enclosure/dp/B0734CZSXL/ref=sr_1_6">ORICO 2 bay hard drive enclosure</a> to fit them. I was only planning to copy stuff of interest out and then throw the disks away. But, it soon occur to me that the enclosure can be used as a mini NAS if I can connect it to the network. I took out the pi 3, plugin the enclosure to USB, mount and then samba share the drive. The old drives worked quite well on this setup. I turned the pi to be a mini download machine. Later, installed plex server and host musics on it so I can stream them to my phone in bedroom.</p>
<p>The setup is quite primitive but has worked for me. There are several things I wanted improve. The first is network speed. Pi 3 only comes with 100Mbps Ethernet. It is fast enough for download but when copying stuff from the drive to my desktop, it definitely needs some patient. Another thing is that the ORICO enclosure could get quite hot, especially for Hongkong summer. I bought an extra fan to help. Last but not least, pi 3 is not that powerful. The first time I import my music library to plex took 2 days for indexing!</p>
<p>With a working pi running on my network, I started my journey of tinkering with SBC. I quickly run into <a href=https://www.youtube.com/user/geerlingguy>Jeff Geerling&rsquo;s Youtube channel</a>, which is a lot of fan to watch. I then started to order HATs myself to play. For example, the <a href="https://www.amazon.com/RASPBERRY-PI-RASPBERRYPI-SENSEHAT-Raspberry-Orientation-Temperature/dp/B014HDG74S/ref=sr_1_1">Sense HAT</a>. I also ordered another pi 4 to replace pi 3 for better ethernet speed.</p>
<p>When hunting for a better pi case, I have found <a href="https://www.youtube.com/watch?v=9sb_zuHGmY4&t=24s&ab_channel=MichaelKlements">Michael Klements&rsquo;s video</a> very interesting. Unfortunately, I don&rsquo;t have access to a 3D printer. But, the idea of having an OLED screen is cool for me. I ordered the screen from Amazon and connected it to the pi&rsquo;s GPIO pins. The display works. However, without a case, the day to day usage is kind of messy.</p>
<p>One more problem for me is that since the display is using I2C and 5V pins, I cannot connect other I2C HATs which also use the same pins. This limitation is really annoying as it seems I need to buy more Pis. After some googling, I found that I could use breadboard to &ldquo;multiplex&rdquo; the pins. So, I ordered breadboards. This makes my desk even more messy.</p>
<p>Having a messy desktop is kind of okay when I am actively working on pi projects. But when I need to work on something else and put pi aside, it becomes quite annoying to have jumper cables everywhere. I realized that what I need is a case solution which allows me to do all the experiments but at the same time easy to be store when I am not working on the pi.</p>
<p>Since 3D printing is out of reach, I was a little bit stuck until I seen <a href="https://www.amazon.com/re_Computer-Stackable-Compatible-ODYSSEY-X86J4105-BeagleBone/dp/B08CZRXY2Z/ref=pd_rhf_ee_p_img_8">seeed studio&rsquo;s recompute case</a>. It is not a compact case for especially for pi, but the extra space is perfect for my usage case.</p>
<p>So, this is how my pi setup looks like now:</p>
<p><img src=/pi-custom/pi.jpg alt=Pi></p>
<p>The pi4 is on the left. I fit a <a href="https://www.amazon.com/GeeekPi-Raspberry-Low-Profile-Cooling-Heatsink/dp/B07ZV1LLWK/ref=sr_1_3">Low Profile HeatSink</a> similar to the one in <a href="https://www.youtube.com/watch?v=9sb_zuHGmY4&t=24s&ab_channel=MichaelKlements">Michael Klements&rsquo;s video</a>. I had to buy the <a href="https://www.amazon.com/dp/B08HZ1YM72?psc=1&ref=ppx_yo2_dt_b_product_details">recompute&rsquo;s stackable frame</a> to allow the fan to be fit in. Without the extra frame, the fan has to be taken out. I see about 3 to 4 degree drop on CPU temperature when fan is added. I added one extra fan at the bottom of the pi board in the picture to help air to flow out of the case.</p>
<p>On the right, I have fit in 2 mini breadboards. I have jumper cables to connect the GPIO to the breadboard. The heatsink is kind of in the way, but I just managed to get the cables through. It would be a much cleaner setup if I didn&rsquo;t have the heatsink installed. But I like the heatsink as Hongkong summary can be quite hot.</p>
<p>I also fitted a OLED screen:
<img src=/pi-custom/screen.jpg alt=Screen>
with some taps. Like the screen in <a href="https://www.youtube.com/watch?v=9sb_zuHGmY4&t=24s&ab_channel=MichaelKlements">Michael Klements&rsquo;s video</a>, it displays IP address, CPU tempature and load, disk and memory usages. The two fans, OLED screens are all connected to the breadboard instead of GPIO. The breadboard allows all three of them sharing the same 5V and ground pins.</p>
<p><img src=/pi-custom/screen_on.jpg alt="Screen On"></p>
<p>With the breadboard, now if I want to connect more HATs or sensors, I could connect to the broad instead of GPIO pins directly. The case contains quite a lot of spaces, especially with the extra stackable frame, to allow me to fit extra stuff. When I don&rsquo;t work on the project, I can put the top cover and safely store the pi on the side.</p>
<p>One problem I had with this setup is that, it is very hard to access the USB type C or mini HDMI port on pi. I had to run cables via the holes in the bottom part of the case to fit:
<img src=/pi-custom/power.jpg alt=Power>
This is working for me now. But it is slightly annoying that every time I need to plug/unplug the cable, I need to remove the top cover. I am ordering a mini USB type C extension cable and will see if that could help.</p>
<p>Overall, I enjoy this setup which gives me the balance between extensibility and tidiness. The case looks quite nice as well!</p>
<hr width=100% id=EOF>
<p style=color:#777>Last modified on 2021-07-17</p>
</div>
</div>
<nav class=post-pagination>
<a class=newer-posts href=https://mcai4gl2.github.io/computers/old-machine/>
Next<br>Salvaging My Old Desktop
</a>
<a class=older-posts>
Previous<br>No older posts.
</a>
</nav>
<div class=post-comment-wrapper>
</div>
</div>
</div>
</div>
</div><div id=single-column-footer>
Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://amazingrise.net>Rise</a>
<br>
Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a> <br>
<br>
&copy;
2021 Blog of Random things
</div>
</div>
<script>let app;app=new Vue({el:'#app',data:{scrollY:0,navOpacity:0,isDrawerOpen:!1,mounted:!1,isDarkMode:!1},methods:{sgn(a,b){let c=1/(1-2*a);return b<=a?0:b>=1-a?1:c*(b-a)},handleScroll(){this.scrollY=window.scrollY,this.navOpacity=this.sgn(0,Math.min(1,Math.max(0,window.scrollY/(this.pageHeadHeight()-this.navBarHeight()*.8))));const{navBar:c,navBackground:a,navTitle:b,extraContainer:d,streamContainer:e}=this.$refs;this.navOpacity>=1?(a.style.opacity=1,b.style.opacity=1):(a.style.opacity=0,b.style.opacity=0)},handleResize(){const{navBar:c,navBackground:d,navTitle:e,extraContainer:a,streamContainer:b}=this.$refs;a.style.left=b.offsetWidth-a.offsetWidth+'px'},navBarHeight(){return this.$refs.navBar.offsetHeight},pageHeadHeight(){return this.$refs.pageHead.offsetHeight},toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,document.getElementsByTagName('html')[0].style.overflow=this.isDrawerOpen?'hidden':'unset'},closeDrawer(){this.isDrawerOpen=!1,document.getElementsByTagName('html')[0].style.overflow=this.isDrawerOpen?'hidden':'unset'},toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.isDarkMode==!0?(document.cookie="night=1;path=/",document.body.classList.add("night")):(document.cookie="night=0;path=/",document.body.classList.remove("night"))},debounce(t,b,f){let e,g,l,d,a,c,i=0,q=!1,h=!1,n=!0;const s=!b&&b!==0&&typeof root.requestAnimationFrame=='function';if(typeof t!='function')throw new TypeError('Expected a function');function w(a){const b=typeof a;return a!=null&&(b==='object'||b==='function')}b=+b||0,w(f)&&(q=!!f.leading,h='maxWait'in f,l=h?Math.max(+f.maxWait||0,b):l,n='trailing'in f?!!f.trailing:n);function o(a){const b=e,c=g;return e=g=void 0,i=a,d=t.apply(c,b),d}function k(b,c){return s?(root.cancelAnimationFrame(a),root.requestAnimationFrame(b)):setTimeout(b,c)}function v(a){if(s)return root.cancelAnimationFrame(a);clearTimeout(a)}function A(c){return i=c,a=k(m,b),q?o(c):d}function u(a){const e=a-c,f=a-i,d=b-e;return h?Math.min(d,l-f):d}function r(a){const d=a-c,e=a-i;return c===void 0||d>=b||d<0||h&&e>=l}function m(){const b=Date.now();if(r(b))return p(b);a=k(m,u(b))}function p(b){return a=void 0,n&&e?o(b):(e=g=void 0,d)}function x(){a!==void 0&&v(a),i=0,e=c=g=a=void 0}function y(){return a===void 0?d:p(Date.now())}function z(){return a!==void 0}function j(...i){const f=Date.now(),j=r(f);if(e=i,g=this,c=f,j){if(a===void 0)return A(c);if(h)return a=k(m,b),o(c)}return a===void 0&&(a=k(m,b)),d}return j.cancel=x,j.flush=y,j.pending=z,j}},created(){window.addEventListener('scroll',this.handleScroll),window.addEventListener('resize',this.handleResize),window._nonDesktop=function(){let a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a};var a=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1");a==""?window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches:a=="1"&&this.toggleDarkMode()},mounted(){this.handleScroll(),this.handleResize(),this.mounted=!0,document.querySelectorAll("table").forEach(function(a){a.classList.add("table-striped"),a.classList.add("table"),a.classList.add("table-responsive"),a.classList.add("table-hover")}),spy(),window.addEventListener('scroll',this.debounce(spy,250,{maxWait:250}),!1)},destroyed(){window.removeEventListener('scroll',this.handleScroll),window.removeEventListener('resize',this.handleResize)}})</script>
</body>
</html>